<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LuxeCars | Luxury Car Renting</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" type='image/jpeg' href="/Favicon Luxecars.jpeg" />

</head>

<body class="luxecars">

    <!-- Header_index with Mustache Partials -->

    {{> header_index }}

    <!-- Navbar implemented with Mustache Partials -->
    {{> nav_bar }}

    <!-- Search bar + Add Brand button -->
    <div class="search-add-container">
        <form method="GET" action="/">
            <input type="text" name="search" class="form-control" placeholder="Search by brand name..."
                value="{{search}}">
            <button type="submit" class="btn btn-dark rounded-pill px-4">Search</button>
        </form>
        <a href="/brand/new" class="btn btn-dark rounded-pill px-4 add-brand-btn">Add New Brand</a>
    </div>

    <!-- Filter buttons by country -->
     <div class="filter-buttons">
        <a href="/" class="btn btn-outline-dark" data-country="">All</a>
        <a href="/?country=Italy" class="btn btn-outline-dark" data-country="Italy">Italy</a>
        <a href="/?country=Germany" class="btn btn-outline-dark" data-country="Germany">Germany</a>
        <a href="/?country=England" class="btn btn-outline-dark" data-country="England">England</a>
        <a href="/?country=France" class="btn btn-outline-dark" data-country="France">France</a>
        <a href="/?country=Sweden" class="btn btn-outline-dark" data-country="Sweden">Sweden</a>
        <a href="/?country=Croatia" class="btn btn-outline-dark" data-country="Croatia">Croatia</a>
    </div>

    <div class="container mt-4">
        <!-- Brands grid -->
        <section class="brands">
            <h2>Our Luxury Brands</h2>

            <div class="row" id="brands-container">
                {{#brands}}
                <div class="col-md-4 col-sm-6 mb-4">
                    <a href="/brand/{{_id}}" class="brand-card">
                        <img src="/brand/{{_id}}/image" alt="{{brandName}}">
                        <span>{{brandName}}</span>
                    </a>
                </div>
                {{/brands}}
                {{^brands}}
                <p>No brands found.</p>
                {{/brands}}
            </div>

            <!-- Finish line message -->
            <div id="finish-line-msg" class="d-none text-center py-5">
                <div class="finish-content">
                    <span style="font-size: 3rem;">üèÅ</span>
                    <h3 class="mt-2">Finish Line Reached!</h3>
                    <p class="text-muted">The garage is empty. No more luxury cars to show.</p>
                </div>
            </div>

            <!-- Infinite scroll spinner -->
            <div id="infinite-scroll-spinner" class="d-none" style="text-align:center; padding: 20px;">
                <div class="car-spinner-final" style="margin: 0 auto;">
                    <div class="top-car">üèéÔ∏è</div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer implemented with Mustache Partials -->
    {{> footer }}

    <!-- Client-side JavaScript -->
    <script src="/client.js"></script>

</body>

</html>